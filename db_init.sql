CREATE TABLE IF NOT EXISTS users(
	id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
	username VARCHAR(32) UNIQUE NOT NULL,
	password_hash VARCHAR(60) NOT NULL,
	email VARCHAR(255) UNIQUE NOT NULL,
	created_on TIMESTAMP NOT NULL,
	last_login TIMESTAMP
);

CREATE TABLE IF NOT EXISTS messages (
	id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
	author_id INT NOT NULL,
	room CHAR(1) NOT NULL,
	text_content VARCHAR(180) NOT NULL,
	created_on TIMESTAMPTZ NOT NULL,
	
	CONSTRAINT FK_author_id FOREIGN KEY(author_id) REFERENCES users(id)
);
